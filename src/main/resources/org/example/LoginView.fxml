<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<HBox alignment="CENTER" prefHeight="550.0" prefWidth="900.0"
      xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.GUI.LoginController"
      stylesheets="@styles.css">

    <!-- Left decorative panel -->
    <VBox alignment="CENTER" spacing="20" prefWidth="400"
          style="-fx-background-color: linear-gradient(to bottom right, #6c5ce7, #a29bfe); -fx-padding: 50;">
        <children>
            <Label text="TalentFlow" style="-fx-text-fill: white; -fx-font-size: 36px; -fx-font-weight: bold;"/>
            <Label text="Plateforme intelligente de gestion des talents"
                   style="-fx-text-fill: rgba(255,255,255,0.85); -fx-font-size: 14px;" wrapText="true" textAlignment="CENTER"/>
            <Region prefHeight="20"/>
            <Label text="Connectez-vous pour accÃ©der Ã  votre espace"
                   style="-fx-text-fill: rgba(255,255,255,0.7); -fx-font-size: 12px;"/>
        </children>
    </VBox>

    <!-- Right login form -->
    <VBox alignment="CENTER" spacing="8" prefWidth="500" style="-fx-background-color: white; -fx-padding: 50;">
        <children>
            <Label text="Connexion" styleClass="title-label">
                <VBox.margin><Insets bottom="5"/></VBox.margin>
            </Label>
            <Label text="AccÃ©dez Ã  votre tableau de bord" styleClass="subtitle-label">
                <VBox.margin><Insets bottom="25"/></VBox.margin>
            </Label>

            <VBox maxWidth="340" spacing="16">
                <children>
                    <!-- Email -->
                    <VBox spacing="6">
                        <Label text="Adresse email" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                        <TextField fx:id="emailField" promptText="exemple@email.com" styleClass="text-field"/>
                    </VBox>

                    <!-- Password with eye toggle -->
                    <VBox spacing="6">
                        <Label text="Mot de passe" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                        <HBox spacing="0" alignment="CENTER_LEFT">
                            <StackPane HBox.hgrow="ALWAYS">
                                <PasswordField fx:id="passwordField" promptText="Entrez votre mot de passe" styleClass="password-field"/>
                                <TextField fx:id="passwordVisible" promptText="Entrez votre mot de passe" styleClass="text-field" visible="false"/>
                            </StackPane>
                            <Button fx:id="togglePasswordBtn" text="ðŸ‘" onAction="#togglePassword" styleClass="btn-toggle-password"/>
                        </HBox>
                    </VBox>

                    <!-- Login button -->
                    <Button text="Se connecter" onAction="#handleLogin" maxWidth="Infinity" styleClass="btn-primary">
                        <VBox.margin><Insets top="8"/></VBox.margin>
                    </Button>

                    <!-- Separator "ou" -->
                    <HBox alignment="CENTER" spacing="10">
                        <VBox.margin><Insets top="8" bottom="4"/></VBox.margin>
                        <Separator HBox.hgrow="ALWAYS"/>
                        <Label text="ou" style="-fx-text-fill: #b2bec3; -fx-font-size: 12px;"/>
                        <Separator HBox.hgrow="ALWAYS"/>
                    </HBox>

                    <!-- Google login button -->
                    <Button text="Se connecter avec Google" onAction="#handleGoogleLogin"
                            maxWidth="Infinity" styleClass="btn-google"/>

                    <!-- Error label -->
                    <Label fx:id="errorLabel" textAlignment="CENTER" wrapText="true" styleClass="error-label"/>

                    <!-- Forgot password -->
                    <Hyperlink text="Mot de passe oubliÃ© ?" onAction="#handleForgotPassword"
                               alignment="CENTER" maxWidth="Infinity" styleClass="hyperlink"/>

                    <Separator>
                        <VBox.margin><Insets top="5" bottom="5"/></VBox.margin>
                    </Separator>

                    <Hyperlink text="Pas encore de compte ? CrÃ©er un compte" onAction="#handleShowRegister"
                               alignment="CENTER" maxWidth="Infinity" styleClass="hyperlink"/>
                </children>
            </VBox>
        </children>
    </VBox>
</HBox>
<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<HBox alignment="CENTER" prefHeight="550.0" prefWidth="900.0"
      xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.GUI.VerificationController"
      stylesheets="@styles.css">

    <!-- Left decorative panel -->
    <VBox alignment="CENTER" spacing="20" prefWidth="400"
          style="-fx-background-color: linear-gradient(to bottom right, #6c5ce7, #a29bfe); -fx-padding: 50;">
        <children>
            <Label text="ðŸ”" style="-fx-font-size: 64px;"/>
            <Label text="VÃ©rification 2FA"
                   style="-fx-text-fill: white; -fx-font-size: 28px; -fx-font-weight: bold;"/>
            <Label text="Authentification Ã  deux facteurs"
                   style="-fx-text-fill: rgba(255,255,255,0.85); -fx-font-size: 14px;" wrapText="true" textAlignment="CENTER"/>
            <Region prefHeight="10"/>
            <Label text="Un code de vÃ©rification a Ã©tÃ© envoyÃ©&#10;Ã  votre adresse email"
                   style="-fx-text-fill: rgba(255,255,255,0.7); -fx-font-size: 12px;" wrapText="true" textAlignment="CENTER"/>
        </children>
    </VBox>

    <!-- Right verification form -->
    <VBox alignment="CENTER" spacing="8" prefWidth="500" style="-fx-background-color: white; -fx-padding: 50;">
        <children>
            <Label text="Saisissez le code" styleClass="title-label">
                <VBox.margin><Insets bottom="5"/></VBox.margin>
            </Label>
            <Label fx:id="infoLabel" text="Un code a Ã©tÃ© envoyÃ© Ã  votre email"
                   styleClass="subtitle-label">
                <VBox.margin><Insets bottom="25"/></VBox.margin>
            </Label>

            <VBox maxWidth="340" spacing="16">
                <children>
                    <!-- Code field -->
                    <VBox spacing="6">
                        <Label text="Code de vÃ©rification"
                               style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                        <TextField fx:id="codeField" promptText="Entrez le code Ã  6 chiffres"
                                   styleClass="text-field"
                                   style="-fx-font-size: 20px; -fx-alignment: center; -fx-letter-spacing: 4;"
                                   maxWidth="340" alignment="CENTER"/>
                    </VBox>

                    <!-- Verify button -->
                    <Button fx:id="verifyBtn" text="VÃ©rifier" onAction="#handleVerify"
                            maxWidth="Infinity" styleClass="btn-primary">
                        <VBox.margin><Insets top="8"/></VBox.margin>
                    </Button>

                    <!-- Status label -->
                    <Label fx:id="statusLabel" textAlignment="CENTER" wrapText="true"
                           styleClass="error-label"/>

                    <!-- Resend code -->
                    <HBox alignment="CENTER" spacing="10">
                        <Button fx:id="resendBtn" text="Renvoyer le code" onAction="#handleResendCode"
                                styleClass="btn-secondary"/>
                    </HBox>

                    <Separator>
                        <VBox.margin><Insets top="5" bottom="5"/></VBox.margin>
                    </Separator>

                    <Hyperlink text="â† Retour Ã  la connexion" onAction="#handleBackToLogin"
                               alignment="CENTER" maxWidth="Infinity" styleClass="hyperlink"/>
                </children>
            </VBox>
        </children>
    </VBox>
</HBox>

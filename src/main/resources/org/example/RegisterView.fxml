<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<HBox alignment="CENTER" prefHeight="620.0" prefWidth="900.0"
      xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.GUI.RegisterController"
      stylesheets="@styles.css">

    <!-- Left decorative panel -->
    <VBox alignment="CENTER" spacing="20" prefWidth="380"
          style="-fx-background-color: linear-gradient(to bottom right, #00b894, #55efc4); -fx-padding: 50;">
        <children>
            <Label text="TalentFlow" style="-fx-text-fill: white; -fx-font-size: 36px; -fx-font-weight: bold;"/>
            <Label text="Rejoignez la communautÃ© TalentFlow et dÃ©couvrez de nouvelles opportunitÃ©s"
                   style="-fx-text-fill: rgba(255,255,255,0.9); -fx-font-size: 14px;" wrapText="true" textAlignment="CENTER"/>
            <Region prefHeight="15"/>
            <Label text="Inscription rapide et sÃ©curisÃ©e"
                   style="-fx-text-fill: rgba(255,255,255,0.7); -fx-font-size: 12px;"/>
        </children>
    </VBox>

    <!-- Right registration form -->
    <ScrollPane fitToWidth="true" hbarPolicy="NEVER" prefWidth="520" style="-fx-background-color: white;">
        <VBox alignment="CENTER" spacing="6" style="-fx-background-color: white; -fx-padding: 35 50;">
            <children>
                <Label text="CrÃ©er un compte" styleClass="title-label">
                    <VBox.margin><Insets bottom="3"/></VBox.margin>
                </Label>
                <Label text="Remplissez les informations ci-dessous" styleClass="subtitle-label">
                    <VBox.margin><Insets bottom="20"/></VBox.margin>
                </Label>

                <VBox maxWidth="380" spacing="14">
                    <children>
                        <!-- Nom / PrÃ©nom side by side -->
                        <HBox spacing="12">
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="Nom" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                                <TextField fx:id="nomField" promptText="Votre nom" styleClass="text-field"/>
                            </VBox>
                            <VBox spacing="5" HBox.hgrow="ALWAYS">
                                <Label text="PrÃ©nom" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                                <TextField fx:id="prenomField" promptText="Votre prÃ©nom" styleClass="text-field"/>
                            </VBox>
                        </HBox>

                        <!-- Email -->
                        <VBox spacing="5">
                            <Label text="Email" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <TextField fx:id="emailField" promptText="exemple@email.com" styleClass="text-field"/>
                        </VBox>

                        <!-- Telephone -->
                        <VBox spacing="5">
                            <Label text="TÃ©lÃ©phone" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <TextField fx:id="telField" promptText="8 chiffres" styleClass="text-field"/>
                        </VBox>

                        <!-- Password with eye toggle -->
                        <VBox spacing="5">
                            <Label text="Mot de passe" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <HBox spacing="0" alignment="CENTER_LEFT">
                                <StackPane HBox.hgrow="ALWAYS">
                                    <PasswordField fx:id="passwordField" promptText="Min 8 car., 1 Maj, 1 Chiffre, 1 Symbole" styleClass="password-field"/>
                                    <TextField fx:id="passwordVisible" promptText="Min 8 car., 1 Maj, 1 Chiffre, 1 Symbole" styleClass="text-field" visible="false"/>
                                </StackPane>
                                <Button fx:id="togglePasswordBtn" text="ðŸ‘" onAction="#togglePassword" styleClass="btn-toggle-password"/>
                            </HBox>
                        </VBox>

                        <!-- Confirm password with eye toggle -->
                        <VBox spacing="5">
                            <Label text="Confirmer le mot de passe" style="-fx-text-fill: #636e72; -fx-font-size: 12px; -fx-font-weight: bold;"/>
                            <HBox spacing="0" alignment="CENTER_LEFT">
                                <StackPane HBox.hgrow="ALWAYS">
                                    <PasswordField fx:id="confirmPasswordField" promptText="Retapez le mot de passe" styleClass="password-field"/>
                                    <TextField fx:id="confirmPasswordVisible" promptText="Retapez le mot de passe" styleClass="text-field" visible="false"/>
                                </StackPane>
                                <Button fx:id="toggleConfirmBtn" text="ðŸ‘" onAction="#toggleConfirmPassword" styleClass="btn-toggle-password"/>
                            </HBox>
                        </VBox>

                        <!-- Register button -->
                        <Button text="CrÃ©er mon compte" onAction="#handleRegister" maxWidth="Infinity" styleClass="btn-success">
                            <VBox.margin><Insets top="8"/></VBox.margin>
                        </Button>

                        <!-- Status label -->
                        <Label fx:id="statusLabel" wrapText="true" textAlignment="CENTER" styleClass="error-label"/>

                        <Separator>
                            <VBox.margin><Insets top="3" bottom="3"/></VBox.margin>
                        </Separator>

                        <Hyperlink text="DÃ©jÃ  un compte ? Se connecter" onAction="#handleBackToLogin"
                                   alignment="CENTER" maxWidth="Infinity" styleClass="hyperlink"/>
                    </children>
                </VBox>
            </children>
        </VBox>
    </ScrollPane>
</HBox>